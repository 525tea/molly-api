<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.example.mollyapi.product.mapper.ProductItemMapper">

    <insert id="insertProductItems">
        INSERT IGNORE INTO product_item (item_id, product_id, quantity, color, color_code, size,
        created_at, updated_at)
        VALUES
        <foreach collection="productItems" item="item" separator=",">
            (#{item.itemId}, #{item.productId}, #{item.quantity}, #{item.color},
            #{item.colorCode}, #{item.size}, #{now}, #{now})
        </foreach>
    </insert>

    <select id="getProductsByIdRange" resultType="Long">
            SELECT item_id
            FROM product_item
            WHERE item_id BETWEEN #{startId} AND #{endId}
    </select>

</mapper>
